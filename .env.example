# ===========================================
# Kpsull - Variables d'environnement
# ===========================================
# Copier ce fichier vers .env.local et remplir les valeurs

# -------------------------------------------
# DATABASE (PostgreSQL via Docker)
# -------------------------------------------
# Pour lancer la DB locale:
#   docker compose -f docker/docker-compose.postgres.yml up -d
# Pour arreter:
#   docker compose -f docker/docker-compose.postgres.yml down
# Container name: kpsull_bdd
DATABASE_URL="postgresql://USER:PASSWORD@localhost:5432/DB_NAME"

# -------------------------------------------
# AUTH.JS (NextAuth v5)
# -------------------------------------------
# Générer avec: bunx auth secret
NEXTAUTH_SECRET="your-secret-key-change-in-production"
NEXTAUTH_URL="http://localhost:3000"

# -------------------------------------------
# GOOGLE OAUTH
# -------------------------------------------
# Créer sur: https://console.cloud.google.com/apis/credentials
# Redirect URI: http://localhost:3000/api/auth/callback/google
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# -------------------------------------------
# STRIPE (Paiements)
# -------------------------------------------
# Dashboard: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Connect (pour les créateurs)
# Dashboard: https://dashboard.stripe.com/settings/connect
STRIPE_CONNECT_CLIENT_ID="ca_..."

# -------------------------------------------
# ABONNEMENTS CREATEURS (3 produits x 2 prix)
# -------------------------------------------
# Produits Stripe: Essentiel, Studio, Atelier
# Chaque produit a 2 prix recurring (mensuel + annuel)

# ESSENTIEL - 29€/mois ou 290€/an - Commission 5% - 10 produits
STRIPE_PRICE_ESSENTIEL_MONTHLY="price_..."
STRIPE_PRICE_ESSENTIEL_YEARLY="price_..."

# STUDIO - 79€/mois ou 790€/an - Commission 4% - 20 produits
STRIPE_PRICE_STUDIO_MONTHLY="price_..."
STRIPE_PRICE_STUDIO_YEARLY="price_..."

# ATELIER - 95€/mois ou 950€/an - Commission 3% - Illimité - 14j essai gratuit
STRIPE_PRICE_ATELIER_MONTHLY="price_..."
STRIPE_PRICE_ATELIER_YEARLY="price_..."

# -------------------------------------------
# CLOUDINARY (uploads images) - REQUIS
# -------------------------------------------
# Dashboard: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# -------------------------------------------
# OPTIONNEL - Colissimo (suivi colis - GRATUIT)
# -------------------------------------------
# Inscription: https://developer.laposte.fr/auth/sign-up
# Créer une app, activer l'API "Suivi des Colis"
# Récupérer la clé "X-Okapi-Key" dans vos credentials
COLISSIMO_API_KEY="your-colissimo-api-key"

# -------------------------------------------
# OPTIONNEL - 17TRACK (agrégateur suivi - 100 free/mois)
# -------------------------------------------
# Inscription: https://www.17track.net/en/api
# Free tier: 100 requêtes/mois
# Utilisé comme fallback pour: Chronopost, Mondial Relay, DPD, GLS, UPS, FedEx, DHL
TRACK17_API_KEY="your-17track-api-key"

# -------------------------------------------
# NOTE: Suivi colis multi-transporteurs
# -------------------------------------------
# Priorité: API Transporteur > 17TRACK > Mock
# - Colissimo: API gratuite (developer.laposte.fr)
# - Autres transporteurs: 17TRACK (100 free/mois) ou compte pro
# - Sans clé API: Mode simulation automatique

# -------------------------------------------
# SENTRY (Error tracking)
# -------------------------------------------
# Créer un projet sur: https://sentry.io
SENTRY_DSN="https://...@sentry.io/..."
NEXT_PUBLIC_SENTRY_DSN="https://...@sentry.io/..."
SENTRY_ORG="kpsull"
SENTRY_PROJECT="kpsull-web"
# CI only - pour upload source maps:
# SENTRY_AUTH_TOKEN="sntrys_..."

# -------------------------------------------
# RESEND (Emails transactionnels)
# -------------------------------------------
# Dashboard: https://resend.com/api-keys
RESEND_API_KEY="re_..."
RESEND_FROM_ADDRESS="Kpsull <kpsul.tech@gmail.com>"

# -------------------------------------------
# NOTE: Vérification SIRET
# -------------------------------------------
# L'API data.gouv.fr est utilisée (GRATUITE, pas de clé requise)
# Documentation: https://entreprise.data.gouv.fr/api_doc/sirene

# -------------------------------------------
# TESTS E2E (optionnel - pour Playwright)
# -------------------------------------------
# E2E_TEST_USER_EMAIL="test@example.com"
# E2E_TEST_USER_PASSWORD="test-password"

# -------------------------------------------
# CI ONLY (ne pas mettre en .env.local)
# -------------------------------------------
# SONAR_TOKEN="squ_..."
