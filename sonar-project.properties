# Project identification
sonar.projectKey=kpsull
sonar.projectName=KPSull
sonar.projectVersion=1.0.0

# Source directories
sonar.sources=apps/frontend/src,apps/backend/src
sonar.tests=apps/frontend/src,apps/backend/src,apps/frontend/e2e,apps/backend/test

# Test patterns
sonar.test.inclusions=**/*.spec.ts,**/*.spec.tsx,**/*.test.ts,**/*.test.tsx,**/*.e2e-spec.ts
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/.next/**,**/coverage/**,**/playwright-report/**,**/test-results/**,**/*.config.ts,**/*.config.js

# TypeScript
sonar.typescript.lcov.reportPaths=apps/frontend/coverage/lcov.info,apps/backend/coverage/lcov.info

# Coverage exclusions
sonar.coverage.exclusions=**/*.spec.ts,**/*.spec.tsx,**/*.test.ts,**/*.test.tsx,**/*.e2e-spec.ts,**/*.config.ts,**/*.config.js,**/main.ts,**/*.module.ts,**/*.dto.ts,**/*.interface.ts

# Code quality settings
sonar.qualitygate.wait=true

# Language
sonar.language=ts

# Source encoding
sonar.sourceEncoding=UTF-8

# Module configuration for monorepo
# Frontend
sonar.modules=frontend,backend

frontend.sonar.projectName=Frontend (Next.js)
frontend.sonar.sources=apps/frontend/src
frontend.sonar.tests=apps/frontend/src,apps/frontend/e2e
frontend.sonar.test.inclusions=**/*.spec.ts,**/*.spec.tsx,**/*.test.ts,**/*.test.tsx
frontend.sonar.typescript.lcov.reportPaths=apps/frontend/coverage/lcov.info
frontend.sonar.exclusions=**/node_modules/**,**/.next/**,**/dist/**,**/coverage/**

# Backend
backend.sonar.projectName=Backend (NestJS)
backend.sonar.sources=apps/backend/src
backend.sonar.tests=apps/backend/src,apps/backend/test
backend.sonar.test.inclusions=**/*.spec.ts,**/*.e2e-spec.ts
backend.sonar.typescript.lcov.reportPaths=apps/backend/coverage/lcov.info
backend.sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**

# Duplication detection
sonar.cpd.exclusions=**/*.spec.ts,**/*.spec.tsx,**/*.test.ts,**/*.test.tsx

# Issues
sonar.issue.ignore.multicriteria=e1,e2

# Exclude import errors
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.ts

# Exclude console.log issues in development
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S2228
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.ts
